# Flask Bootstrap

## Getting Started

This repo contains a skeleton flask project you can use to quickly bootstrap your projects.

### Dependencies

#### Python 3.7+

You need to have at least Python 3.7 installed in your development environment. 

## Getting Started with Server Development

All server development is done with Python

### Developing on Windows
Ensure you use windows installer to install all Python dependencies on Windows, as follows:

* Activate your virtual environment
    * ```.\venv\scripts\activate```
* Run the windows installer
    * ```.\devops\install\install.bat```

### Running Flask dev server

You should create a .env file in the root of the project with all necessary environment variables.  On the command line you can enter ```flask run``` to run locally

#### Environment variables

Required environment vars for the project are:

* **FB_DB** -  This is for the Postgres connection string. This will be in the format: postgresql://username:pwd@host/dbname

### API Docs

API docs are generated by [Flasgger](https://github.com/rochacbruno/flasgger) all API methods should be decorated with swagger comments. API docs page can be viewed here:

[http://127.0.0.1:5000/apidocs](http://127.0.0.1:5000/apidocs)

### Database Migrations
[Flask-Migrate](https://flask-migrate.readthedocs.io/en/latest/) is used to manage database changes.  ALL database changes must be captured as migrations that can be automatically run against the database.  Once a change
has been made to a table, you can create a migration and upgrade the database as follows:

```.env
flask db migrate
flask db upgrade
```

You can rollback a migration using ```flask db downgrade```
